{"version":3,"file":"Utils.js","sourceRoot":"","sources":["../../src/lib/Utils.ts"],"names":[],"mappings":"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","sourcesContent":["export default class Utils {\n    static fixAdminUI(obj: Record<string, any>): void {\n        if (obj?.common) {\n            if (!obj.common.adminUI) {\n                if (obj.common.noConfig) {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.config = 'none';\n                } else if (obj.common.jsonConfig) {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.config = 'json';\n                } else if (obj.common.materialize) {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.config = 'materialize';\n                } else {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.config = 'html';\n                }\n\n                if (obj.common.jsonCustom) {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.custom = 'json';\n                } else if (obj.common.supportCustoms) {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.custom = 'json';\n                }\n\n                if (obj.common.materializeTab && obj.common.adminTab) {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.tab = 'materialize';\n                } else if (obj.common.adminTab) {\n                    obj.common.adminUI = obj.common.adminUI || {};\n                    obj.common.adminUI.tab = 'html';\n                }\n\n                if (obj.common.adminUI) {\n                    console.warn(\n                        `Please add to \"${obj._id.replace(/\\.\\d+$/, '')}\" common.adminUI=${JSON.stringify(obj.common.adminUI)}`,\n                    );\n                }\n            } else {\n                let changed = false;\n                if (obj.common.materializeTab && obj.common.adminTab) {\n                    if (obj.common.adminUI.tab !== 'materialize') {\n                        obj.common.adminUI.tab = 'materialize';\n                        changed = true;\n                    }\n                } else if (obj.common.adminTab) {\n                    if (obj.common.adminUI.tab !== 'html' && obj.common.adminUI.tab !== 'materialize') {\n                        obj.common.adminUI.tab = 'html';\n                        changed = true;\n                    }\n                }\n\n                if (obj.common.jsonCustom || obj.common.supportCustoms) {\n                    if (obj.common.adminUI.custom !== 'json') {\n                        obj.common.adminUI.custom = 'json';\n                        changed = true;\n                    }\n                }\n\n                if (obj.common.noConfig) {\n                    if (obj.common.adminUI.config !== 'none') {\n                        obj.common.adminUI.config = 'none';\n                        changed = true;\n                    }\n                } else if (obj.common.jsonConfig) {\n                    if (obj.common.adminUI.config !== 'json') {\n                        obj.common.adminUI.config = 'json';\n                        changed = true;\n                    }\n                    obj.common.adminUI.config = 'json';\n                } else if (obj.common.materialize) {\n                    if (obj.common.adminUI.config !== 'materialize') {\n                        if (!obj.common.adminUI.config) {\n                            obj.common.adminUI.config = 'materialize';\n                            changed = true;\n                        }\n                    }\n                } else if (!obj.common.adminUI.config) {\n                    obj.common.adminUI.config = 'html';\n                    changed = true;\n                }\n                if (changed) {\n                    console.warn(\n                        `Please modify \"${obj._id.replace(/\\.\\d+$/, '')}\" common.adminUI=${JSON.stringify(obj.common.adminUI)}`,\n                    );\n                }\n            }\n        }\n    }\n}\n"]}