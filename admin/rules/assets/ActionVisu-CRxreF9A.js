import{A as u,a as d}from"./ActionVisu__mf_v__runtimeInit__mf_v__-C2JRFvAF.js";const{loadShare:_}=d,{initPromise:p}=u,f=p.then(t=>_("@iobroker/adapter-react-v5",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),m=await f.then(t=>t());var g=m,n={},s={};Object.defineProperty(s,"__esModule",{value:!0});let k=class{};s.default=k;var c={};Object.defineProperty(c,"__esModule",{value:!0});(function(t){var e=n&&n.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.IGenericBlock=t.GenericBlock=void 0;var i=s;Object.defineProperty(t,"GenericBlock",{enumerable:!0,get:function(){return e(i).default}});var r=c;Object.defineProperty(t,"IGenericBlock",{enumerable:!0,get:function(){return r.IGenericBlock}})})(n);const l=window.GenericBlock||n.GenericBlock;class o extends l{constructor(e){super(e,o.getStaticData())}static compile(e,i){let r=(e.message||"").replace(/"/g,'\\"');return r?`// ioBroker.visu ${(r||"").replace(/\n/g," ").replace(/\r/g," ")}
		const subActionVar${e._id} = "${(r||"").replace(/"/g,'\\"')}"${l.getReplacesInText(i)};
		_sendToFrontEnd(${e._id}, {message: subActionVar${e._id}});
		setState("${e.instance}.app.message", JSON.stringify({message: subActionVar${e._id}, title: "${(e.title||"").replace(/"/g,'\\"')}", priority: ${e.priority?'"high"':'"normal"'}, expire: ${parseInt((e.expire||"").toString().replace(/"/g,'\\"'),10)||3600}}));`:`// no text defined
_sendToFrontEnd(${e._id}, {message: 'No message defined'});`}renderDebug(e){return`${g.I18n.t("Sent:")} ${e.data.message}`}onTagChange(e){this.setState({inputs:[{attr:"instance",nameRender:"renderInstance",adapter:"iot",defaultValue:"iot.0",frontText:"Instance:"},{attr:"message",nameRender:"renderModalInput",defaultValue:"Hallo",nameBlock:"",frontText:"Message:"},{attr:"title",frontText:"Title:",nameRender:"renderText",defaultValue:"Title"},{attr:"expire",frontText:"Expire(sec):",nameRender:"renderText",defaultValue:"3600"},{frontText:"Priority",nameRender:"renderCheckbox",defaultValue:!1,attr:"priority"}]},()=>super.onTagChange(e))}static getStaticData(){return{acceptedBy:"actions",name:"ioBroker.visu",id:"ActionVisu",adapter:"iot",title:"Sends to ioBroker.visu",helpDialog:"You can use %s in the text to display current trigger value or %id to display the triggered object ID"}}getData(){return o.getStaticData()}}export{o as default};
