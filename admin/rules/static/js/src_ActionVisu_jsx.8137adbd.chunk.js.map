{"version":3,"file":"static/js/src_ActionVisu_jsx.8137adbd.chunk.js","mappings":"wLAEA,MAAMA,EAAe,OAAO,aAE5B,MAAMC,UAAmBD,CAAa,CAClC,YAAYE,EAAO,CACf,MAAMA,EAAOD,EAAW,cAAc,CAAC,CAC3C,CAEA,OAAO,QAAQE,EAAQC,EAAS,CAC5B,IAAIC,GAAWF,EAAO,SAAW,IAAI,QAAQ,KAAM,KAAK,EACxD,OAAKE,EAIM,qBAAqBA,GAAW,IAAI,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,CAAC;AAAA,sBACtEF,EAAO,GAAG,QAAQE,GAAW,IAAI,QAAQ,KAAM,KAAK,CAAC,IAAIL,EAAa,kBAAkBI,CAAO,CAAC;AAAA,oBAClGD,EAAO,GAAG,2BAA2BA,EAAO,GAAG;AAAA,cACrDA,EAAO,QAAQ,uDAAuDA,EAAO,GAAG,cAAcA,EAAO,OAAS,IAAI,QAAQ,KAAM,KAAK,CAAC,gBAAgBA,EAAO,SAAW,SAAU,UAAU,aAAa,UAAUA,EAAO,QAAU,IAAI,SAAS,EAAE,QAAQ,KAAM,KAAK,EAAG,EAAE,GAAK,IAAI,OANjR;AAAA,kBACDA,EAAO,GAAG,qCAOxB,CAEA,YAAYG,EAAc,CACtB,MAAO,GAAG,SAAO,OAAO,CAAC,IAAIA,EAAa,KAAK,OAAO,EAC1D,CAEA,YAAYC,EAAS,CACjB,KAAK,SAAS,CACV,OAAQ,CACJ,CACI,KAAM,WACN,WAAY,iBACZ,QAAS,MACT,aAAc,QACd,UAAW,WACf,EACA,CACI,KAAM,UACN,WAAY,mBACZ,aAAc,QACd,UAAW,GACX,UAAW,UACf,EACA,CACI,KAAM,QACN,UAAW,SACX,WAAY,aACZ,aAAc,OAClB,EACA,CACI,KAAM,SACN,UAAW,eACX,WAAY,aACZ,aAAc,MAClB,EACA,CACI,UAAW,WACX,WAAY,iBACZ,aAAc,GACd,KAAM,UACV,CACJ,CACJ,EAAG,IAAM,MAAM,YAAYA,CAAO,CAAC,CACvC,CAEA,OAAO,eAAgB,CACnB,MAAO,CACH,WAAY,UACZ,KAAM,gBACN,GAAI,aACJ,QAAS,MACT,MAAO,yBACP,WAAY,uGAChB,CACJ,CAEA,SAAU,CACN,OAAON,EAAW,cAAc,CACpC,CACJ,CAEA,UAAeA,C","sources":["ActionVisu.jsx"],"sourcesContent":["import { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nconst GenericBlock = window.GenericBlock;\r\n\r\nclass ActionVisu extends GenericBlock {\r\n    constructor(props) {\r\n        super(props, ActionVisu.getStaticData());\r\n    }\r\n\r\n    static compile(config, context) {\r\n        let message = (config.message || '').replace(/\"/g, '\\\\\"');\r\n        if (!message) {\r\n            return `// no text defined\r\n_sendToFrontEnd(${config._id}, {message: 'No message defined'});`;\r\n        } else {\r\n            return `// ioBroker.visu ${(message || '').replace(/\\n/g, ' ').replace(/\\r/g, ' ')}\r\n\\t\\tconst subActionVar${config._id} = \"${(message || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\r\n\\t\\t_sendToFrontEnd(${config._id}, {message: subActionVar${config._id}});\r\n\\t\\tsetState(\"${config.instance}.app.message\", JSON.stringify({message: subActionVar${config._id}, title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\", priority: ${config.priority ? '\"high\"': '\"normal\"'}, expire: ${parseInt((config.expire || '').toString().replace(/\"/g, '\\\\\"'), 10) || 3600}}));`;\r\n        }\r\n    }\r\n\r\n    renderDebug(debugMessage) {\r\n        return `${I18n.t('Sent:')} ${debugMessage.data.message}`;\r\n    }\r\n\r\n    onTagChange(tagCard) {\r\n        this.setState({\r\n            inputs: [\r\n                {\r\n                    attr: 'instance',\r\n                    nameRender: 'renderInstance',\r\n                    adapter: 'iot',\r\n                    defaultValue: 'iot.0',\r\n                    frontText: 'Instance:',\r\n                },\r\n                {\r\n                    attr: 'message',\r\n                    nameRender: 'renderModalInput',\r\n                    defaultValue: 'Hallo',\r\n                    nameBlock: '',\r\n                    frontText: 'Message:',\r\n                },\r\n                {\r\n                    attr: 'title',\r\n                    frontText: 'Title:',\r\n                    nameRender: 'renderText',\r\n                    defaultValue: 'Title',\r\n                },\r\n                {\r\n                    attr: 'expire',\r\n                    frontText: 'Expire(sec):',\r\n                    nameRender: 'renderText',\r\n                    defaultValue: '3600',\r\n                },\r\n                {\r\n                    frontText: 'Priority',\r\n                    nameRender: 'renderCheckbox',\r\n                    defaultValue: false,\r\n                    attr: 'priority',\r\n                },\r\n            ]\r\n        }, () => super.onTagChange(tagCard));\r\n    }\r\n\r\n    static getStaticData() {\r\n        return {\r\n            acceptedBy: 'actions',\r\n            name: 'ioBroker.visu',\r\n            id: 'ActionVisu',\r\n            adapter: 'iot',\r\n            title: 'Sends to ioBroker.visu',\r\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\r\n        };\r\n    }\r\n\r\n    getData() {\r\n        return ActionVisu.getStaticData();\r\n    }\r\n}\r\n\r\nexport default ActionVisu;\r\n"],"names":["GenericBlock","ActionVisu","props","config","context","message","debugMessage","tagCard"],"sourceRoot":""}